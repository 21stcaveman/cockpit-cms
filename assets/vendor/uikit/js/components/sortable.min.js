/*! UIkit 2.16.2 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
!function(t){var e;jQuery&&UIkit&&(e=t(jQuery,UIkit)),"function"==typeof define&&define.amd&&define("uikit-sortable",["uikit"],function(){return e||t(jQuery,UIkit)})}(function(t,e){"use strict";function n(t,e){var n=t.parentNode;if(e.parentNode!=n)return!1;for(var o=t.previousSibling;o&&9!==o.nodeType;){if(o===e)return!0;o=o.previousSibling}return!1}function o(t,e){var n=e;if(n==t)return null;for(;n;){if(n.parentNode===t)return n;if(n=n.parentNode,!n||!n.ownerDocument||11===n.nodeType)break}return null}function a(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}var s,r,i,l,d,p="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,u=!p&&function(){var t=document.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t}();return u=!1,e.component("sortable",{defaults:{warp:!1,animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",dragCustomClass:"",handleClass:!1,stop:function(){},start:function(){},change:function(){}},boot:function(){e.ready(function(t){e.$("[data-uk-sortable]",t).each(function(){var t=e.$(this);if(!t.data("sortable")){e.sortable(t,e.Utils.options(t.attr("data-uk-sortable")))}})}),e.$html.on("mousemove touchmove",function(t){if(d){var n=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0]:t;(Math.abs(n.pageX-d.pos.x)>d.threshold||Math.abs(n.pageY-d.pos.y)>d.threshold)&&d.apply()}if(s){r||(r=!0,s.show(),s.$current.addClass(s.$sortable.options.placeholderClass),s.$sortable.element.children().addClass(s.$sortable.options.childClass),e.$html.addClass(s.$sortable.options.dragMovingClass));var o=s.data("mouse-offset"),a=parseInt(t.originalEvent.pageX,10)+o.left,i=parseInt(t.originalEvent.pageY,10)+o.top;s.css({left:a,top:i}),i<e.$win.scrollTop()?e.$win.scrollTop(e.$win.scrollTop()-Math.ceil(s.height()/2)):i+s.height()>window.innerHeight+e.$win.scrollTop()&&e.$win.scrollTop(e.$win.scrollTop()+Math.ceil(s.height()/2))}}),e.$html.on("mouseup touchend",function(){!r&&l&&(location.href=l.attr("href")),d=l=!1})},init:function(){function n(e){return function(n){var a=p&&n.touches&&n.touches[0]||{},s=a.target||n.target;if(p&&document.elementFromPoint&&(s=document.elementFromPoint(n.pageX-document.body.scrollLeft,n.pageY-document.body.scrollTop)),t(s).hasClass(f.options.childClass))e.apply(s,[n]);else if(s!==v){var r=o(v,s);r&&e.apply(r,[n])}}}function h(){u||(p?v.addEventListener("touchmove",T,!1):(v.addEventListener("mouseover",w,!1),v.addEventListener("mouseout",y,!1)),v.addEventListener(p?"touchend":"mouseup",E,!1),document.addEventListener(p?"touchend":"mouseup",D,!1),document.addEventListener("selectstart",a,!1))}function c(){u||(p?v.removeEventListener("touchmove",T,!1):(v.removeEventListener("mouseover",w,!1),v.removeEventListener("mouseout",y,!1)),v.removeEventListener(p?"touchend":"mouseup",E,!1),document.removeEventListener(p?"touchend":"mouseup",D,!1),document.removeEventListener("selectstart",a,!1))}var f=this,v=this.element[0],m=null,g=null;Object.keys(this.options).forEach(function(t){-1!=String(f.options[t]).indexOf("Class")&&(f.options[t]=f.options[t])}),u?this.element.children().attr("draggable","true"):this.element.on("mousedown touchstart","a[href]",function(e){e.ctrlKey||e.metaKey||e.shiftKey||(l=t(this),e.preventDefault())}).on("click","a[href]",function(e){return e.ctrlKey||e.metaKey||e.shiftKey?void 0:(l=t(this),e.stopImmediatePropagation(),!1)});var C=n(function(e){r=!1,i=!1;{var n=t(e.target);f.element.children()}if(p||2!=e.button){if(f.options.handleClass){var o=n.hasClass(f.options.handleClass)?n:n.closest("."+f.options.handleClass,v);if(!o.length)return}if(!n.is(":input")){e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("Text","*")),m=this,s&&s.remove();var a=t(m),l=a.offset();d={pos:{x:e.pageX,y:e.pageY},threshold:f.options.threshold,apply:function(){s=t('<div class="'+[f.options.draggingClass,f.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:l.top,left:l.left,width:a.width(),height:a.height(),padding:a.css("padding")}).data("mouse-offset",{left:l.left-parseInt(e.pageX,10),top:l.top-parseInt(e.pageY,10)}).append(a.html()).appendTo("body"),s.$current=a,s.$sortable=f,h(),f.options.start(this,m),f.trigger("start.uk.sortable",[f,m]),d=!1}},u||e.preventDefault()}}}),b=n(function(t){return m?(t.preventDefault&&t.preventDefault(),!1):!0}),w=n(e.Utils.debounce(function(){if(!m||m===this)return!0;var e=f.dragenterData(this);return f.dragenterData(this,e+1),0===e&&(t(this).addClass(f.options.overClass),f.options.warp||f.moveElementNextTo(m,this)),!1}),40),y=n(function(){var e=f.dragenterData(this);f.dragenterData(this,e-1),f.dragenterData(this)||(t(this).removeClass(f.options.overClass),f.dragenterData(this,!1))}),E=n(function(t){if("drop"===t.type&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()),i||f.options.warp){if(f.options.warp){var n=m.nextSibling;this.parentNode.insertBefore(m,this),this.parentNode.insertBefore(this,n),e.Utils.checkDisplay(f.element.parent())}f.options.change(this,m),f.trigger("change.uk.sortable",[f,m])}}),D=function(){m=null,g=null,f.element.children().each(function(){1===this.nodeType&&(t(this).removeClass(f.options.overClass).removeClass(f.options.placeholderClass).removeClass(f.options.childClass),f.dragenterData(this,!1))}),t("html").removeClass(f.options.dragMovingClass),c(),f.options.stop(this),f.trigger("stop.uk.sortable",[f]),s.remove(),s=null},T=n(function(e){return m&&m!==this&&g!==this?(f.element.children().removeClass(f.options.overClass),g=this,f.options.warp?t(this).addClass(f.options.overClass):f.moveElementNextTo(m,this),a(e)):!0});u?(v.addEventListener("dragstart",C,!1),v.addEventListener("dragenter",w,!1),v.addEventListener("dragleave",y,!1),v.addEventListener("drop",E,!1),v.addEventListener("dragover",b,!1),v.addEventListener("dragend",D,!1)):v.addEventListener(p?"touchstart":"mousedown",C,!1)},dragenterData:function(e,n){return e=t(e),1==arguments.length?parseInt(e.attr("data-child-dragenter"),10)||0:(n?e.attr("data-child-dragenter",Math.max(0,n)):e.removeAttr("data-child-dragenter"),void 0)},moveElementNextTo:function(o,a){i=!0;var s=this,r=t(o).parent().css("min-height",""),l=n(o,a)?a:a.nextSibling,d=r.children(),p=d.length;return s.options.warp||!s.options.animation?(a.parentNode.insertBefore(o,l),e.Utils.checkDisplay(s.element.parent()),void 0):(r.css("min-height",r.height()),d.stop().each(function(){var e=t(this),n=e.position();n.width=e.width(),e.data("offset-before",n)}),a.parentNode.insertBefore(o,l),e.Utils.checkDisplay(s.element.parent()),d=r.children().each(function(){var e=t(this);e.data("offset-after",e.position())}).each(function(){var e=t(this),n=e.data("offset-before");e.css({position:"absolute",top:n.top,left:n.left,"min-width":n.width})}),d.each(function(){var n=t(this),o=(n.data("offset-before"),n.data("offset-after"));n.css("pointer-events","none").width(),setTimeout(function(){n.animate({top:o.top,left:o.left},s.options.animation,function(){n.css({position:"",top:"",left:"","min-width":"","pointer-events":""}).removeClass(s.options.overClass).attr("data-child-dragenter",""),p--,p||(r.css("min-height",""),e.Utils.checkDisplay(s.element.parent()))})},0)}),void 0)}}),e.sortable});